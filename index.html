<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Merkez Cumhuriyet İlkokulu Turnuva Sistemi</title>
    <link href="https://fonts.googleapis.com/css2?family=Exo+2:wght@300;500;700;900&family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root { --primary: #00f2ea; --secondary: #ff0050; --bg-dark: #0b0c15; --card-bg: #151922; --border: #2a2a35; --success: #00ff88; --warning: #ffd700; --text-main: #e0e6ed; }
        html, body { overflow-x: hidden; scrollbar-width: none; -ms-overflow-style: none; }
        ::-webkit-scrollbar { display: none; }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Inter', sans-serif; background-color: var(--bg-dark); color: var(--text-main); min-height: 100vh; padding-bottom: 50px; }
        .container { max-width: 1200px; margin: 0 auto; padding: 20px; }
        header { text-align: center; margin-bottom: 30px; padding-top: 30px; }
        h1 { font-family: 'Exo 2'; font-size: 2.5rem; font-weight: 800; background: linear-gradient(to right, #fff, var(--primary)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; margin-bottom: 10px; }
        #loading-overlay { position: fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.9); z-index:9999; display:flex; justify-content:center; align-items:center; flex-direction:column; }
        .spinner { width: 50px; height: 50px; border: 5px solid var(--border); border-top-color: var(--primary); border-radius: 50%; animation: spin 1s linear infinite; margin-bottom: 15px; }
        @keyframes spin { 100% { transform: rotate(360deg); } }
        .view-section { display: none; animation: fadeIn 0.5s ease; }
        .view-section.active { display: block; }
        @keyframes fadeIn { from{opacity:0; transform:translateY(10px);} to{opacity:1; transform:translateY(0);} }
        .form-card { background: var(--card-bg); border: 1px solid var(--border); padding: 30px; border-radius: 16px; max-width: 500px; margin: 0 auto; box-shadow: 0 10px 30px rgba(0,0,0,0.3); }
        .form-group { margin-bottom: 20px; text-align: left; position: relative; }
        label { display: block; margin-bottom: 8px; font-weight: 600; color: #aaa; }
        input, select { width: 100%; padding: 12px; background: #0b0c15; border: 1px solid var(--border); color: #fff; border-radius: 8px; font-size: 1rem; }
        input:focus, select:focus { border-color: var(--primary); outline: none; }
        .submit-btn { width: 100%; padding: 15px; background: var(--primary); color: #000; font-weight: 800; border: none; border-radius: 8px; font-size: 1.1rem; cursor: pointer; transition: 0.3s; margin-bottom: 10px; }
        .submit-btn:hover { transform: translateY(-2px); box-shadow: 0 5px 15px rgba(0, 242, 234, 0.3); }
        .list-btn { width: 100%; padding: 12px; background: transparent; border: 1px solid var(--primary); color: var(--primary); font-weight: bold; border-radius: 8px; cursor: pointer; transition: 0.3s; }
        .list-btn:hover { background: rgba(0, 242, 234, 0.1); }
        
        /* ARAMA SONUÇLARI */
        .search-results { position: absolute; top: 100%; left: 0; width: 100%; background: #1a1d26; border: 1px solid var(--primary); border-radius: 8px; max-height: 250px; overflow-y: auto; z-index: 1000; display: none; }
        .search-item { padding: 12px 15px; cursor: pointer; border-bottom: 1px solid #333; transition: 0.2s; }
        .search-item:hover { background: rgba(0, 242, 234, 0.1); color: #fff; }
        .search-item strong { color: var(--primary); display: block; font-size: 1.1rem; }
        .search-item span { font-size: 0.9rem; color: #aaa; }

        .selected-student-card { background: rgba(0, 255, 136, 0.1); border: 1px solid var(--success); padding: 15px; border-radius: 8px; margin-bottom: 20px; display: none; display: flex; justify-content: space-between; align-items: center; }
        .selected-info strong { display: block; color: #fff; font-size: 1.2rem; }
        .selected-info span { color: var(--success); font-weight: bold; font-size: 1.1rem; }
        .btn-remove-sel { background: none; border: none; color: var(--danger); cursor: pointer; font-size: 1.5rem; padding: 0 10px; }

        .admin-panel { background: rgba(255, 255, 255, 0.02); border: 1px solid var(--border); padding: 20px; border-radius: 12px; margin-bottom: 30px; }
        .admin-add-box { background: rgba(0, 242, 234, 0.05); border: 1px dashed var(--primary); padding: 20px; border-radius: 8px; margin-bottom: 20px; }
        .stat-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-bottom: 20px; }
        .stat-card { background: #000; padding: 15px; border-radius: 8px; text-align: center; border: 1px solid #333; }
        .stat-num { font-size: 2rem; font-weight: 800; color: var(--primary); }
        .player-list { max-height: 400px; overflow-y: auto; background: #000; border-radius: 8px; border: 1px solid var(--border); }
        .player-item { display: flex; justify-content: space-between; padding: 10px 15px; border-bottom: 1px solid #222; align-items: center; }
        .del-btn { background: var(--secondary); color: #fff; border: none; padding: 5px 10px; border-radius: 4px; cursor: pointer; font-size: 0.8rem; }
        .action-bar { display: flex; gap: 10px; margin-top: 20px; }
        .action-btn { flex: 1; padding: 15px; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; font-size: 1rem; }
        .btn-start { background: var(--success); color: #000; }
        .btn-close { background: var(--warning); color: #000; }
        .btn-reset { background: var(--danger); color: #fff; }
        
        .modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); z-index: 2000; display: none; align-items: center; justify-content: center; }
        .modal-content { background: var(--card-bg); width: 90%; max-width: 600px; border-radius: 12px; border: 1px solid var(--border); padding: 20px; max-height: 80vh; display: flex; flex-direction: column; }
        .modal-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; border-bottom: 1px solid var(--border); padding-bottom: 10px; }
        .modal-list { overflow-y: auto; flex: 1; }
        .modal-item { display: flex; justify-content: space-between; padding: 10px; border-bottom: 1px solid #333; color: #fff; }
        .modal-close { background: var(--secondary); color: #fff; border: none; padding: 8px 15px; border-radius: 6px; cursor: pointer; font-weight: bold; }

        .bracket-container { display: flex; flex-direction: column; gap: 30px; }
        .round-block { background: rgba(255,255,255,0.02); border: 1px solid var(--border); border-radius: 12px; padding: 20px; }
        .round-title { text-align: center; color: var(--warning); font-size: 1.5rem; font-weight: 800; margin-bottom: 20px; border-bottom: 1px solid rgba(255,255,255,0.1); padding-bottom: 10px; }
        .matches-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 15px; }
        .match-card { background: #16181e; border: 1px solid var(--border); border-radius: 8px; padding: 10px; position: relative; }
        .match-card.completed { border-color: var(--success); }
        .status-badge { position: absolute; top: -8px; right: 10px; font-size: 0.7rem; background: var(--success); color: #000; padding: 2px 8px; border-radius: 8px; font-weight: 800; display: none; }
        .match-card.completed .status-badge { display: block; }
        .player-row { display: flex; justify-content: space-between; padding: 8px 10px; background: rgba(255,255,255,0.03); margin-bottom: 5px; border-radius: 4px; align-items: center; }
        .player-row.winner { background: rgba(0, 255, 136, 0.15); border-left: 4px solid var(--success); }
        .p-name { font-weight: 700; color: #fff; font-size: 0.95rem; }
        .p-class { font-size: 0.8rem; color: #ff9f43; margin-left: auto; padding-left: 10px; }
        .score-val { font-weight: 800; font-size: 1.2rem; width: 30px; text-align: center; }
        .btn-s { width: 24px; height: 24px; cursor: pointer; border: none; border-radius: 4px; font-weight: bold; margin: 0 2px; }
        .btn-plus { background: var(--primary); }
        .btn-minus { background: #333; color: #fff; }
        .game-tabs { display: flex; justify-content: center; gap: 10px; margin-bottom: 20px; }
        .tab-btn { padding: 10px 25px; background: transparent; border: 1px solid var(--border); color: #888; border-radius: 50px; cursor: pointer; }
        .tab-btn.active { border-color: var(--primary); color: #fff; background: rgba(0, 242, 234, 0.1); }
        
        .admin-login-btn { position: fixed; bottom: 10px; right: 10px; opacity: 0.3; cursor: pointer; background: none; border: none; color: #fff; font-size: 1.5rem; }
        .announcement-box { background: linear-gradient(90deg, rgba(255, 0, 80, 0.15) 0%, rgba(255, 0, 80, 0.05) 100%); border: 2px solid var(--secondary); border-radius: 12px; padding: 15px; margin: 20px auto; max-width: 800px; text-align:center; }
    </style>
</head>
<body>

<div id="loading-overlay">
    <div class="spinner"></div>
    <div style="color:#fff; font-weight:600">Veriler Yükleniyor...</div>
</div>

<div class="container">
    <header>
        <h1>MERKEZ CUMHURİYET İLKOKULU</h1>
        <h3 style="color:#888; letter-spacing:2px;">TURNUVA YÖNETİM SİSTEMİ</h3>
    </header>

    <!-- KAYIT EKRANI -->
    <div id="registration-view" class="view-section">
        <div class="announcement-box">
            <h2 style="color:var(--primary); margin-bottom:10px;">TURNUVA KAYIT</h2>
            <p>Lütfen isminizi aratarak seçiniz.</p>
        </div>
        <div class="form-card">
            <div class="form-group">
                <label>Oyun Seçiniz</label>
                <select id="reg-game">
                    <option value="2">Abluka</option>
                    <option value="4">Equilibrio</option>
                </select>
            </div>
            
            <div id="selected-student-display" class="selected-student-card" style="display:none;">
                <div class="selected-info">
                    <strong id="disp-name"></strong>
                    <span id="disp-class"></span>
                </div>
                <button class="btn-remove-sel" onclick="clearSelection()"><i class="fas fa-times"></i></button>
            </div>

            <div class="form-group" id="search-container">
                <label>Öğrenci Adı Ara</label>
                <input type="text" id="student-search" placeholder="İsim yazmaya başlayın..." autocomplete="off">
                <div id="search-results" class="search-results"></div>
            </div>

            <button class="submit-btn" onclick="registerStudent()">KAYIT OL</button>
            <button class="list-btn" onclick="openRegisteredList()"><i class="fas fa-list"></i> Kayıtlı Listeyi Gör</button>
        </div>
    </div>

    <!-- KAYITLI LİSTESİ MODAL -->
    <div id="list-modal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <h3 style="color:var(--primary)">Kayıtlı Öğrenciler</h3>
                <button class="modal-close" onclick="closeRegisteredList()">Kapat</button>
            </div>
            <div id="modal-list-content" class="modal-list"></div>
        </div>
    </div>

    <!-- BEKLEME EKRANI -->
    <div id="waiting-view" class="view-section">
        <div class="form-card" style="text-align:center;">
            <i class="fas fa-clock" style="font-size:3rem; color:var(--warning); margin-bottom:20px;"></i>
            <h2>Kayıtlar Kapandı</h2>
            <p style="color:#aaa; margin-top:10px;">Turnuva eşleşmeleri hazırlanıyor.</p>
        </div>
    </div>

    <!-- TURNUVA İZLEME -->
    <div id="tournament-view" class="view-section">
        <div class="game-tabs" id="game-tabs"></div>
        <div id="bracket-area" class="bracket-container"></div>
        <!-- Admin için geri dön butonu -->
        <div id="admin-back-btn" style="text-align:center; margin-top:30px; display:none;">
             <button onclick="backToAdmin()" style="background:#333; color:#fff; padding:10px 20px; border:1px solid #555; border-radius:8px; cursor:pointer;">
                <i class="fas fa-arrow-left"></i> Yönetici Paneline Dön
             </button>
        </div>
    </div>

    <!-- ADMIN PANELİ -->
    <div id="admin-view" class="view-section">
        <div class="admin-panel">
            <h2 style="margin-bottom:20px; color:var(--primary)">YÖNETİCİ PANELİ</h2>
            
            <div class="admin-add-box">
                <h4 style="color:#fff; margin-bottom:15px;"><i class="fas fa-plus-circle"></i> Manuel Kayıt Ekle</h4>
                <div style="display:flex; gap:10px; margin-bottom:10px;">
                    <select id="admin-reg-game" style="flex:1">
                        <option value="2">Abluka</option>
                        <option value="4">Equilibrio</option>
                    </select>
                </div>
                <div class="form-group" style="position:relative;">
                    <input type="text" id="admin-student-search" placeholder="Öğrenci Ara..." autocomplete="off">
                    <div id="admin-search-results" class="search-results"></div>
                </div>
                
                <div id="admin-selected-info" style="display:none; margin-bottom:10px; background:#000; padding:10px; border-radius:6px; border:1px solid var(--success);">
                     <div style="color:#fff; font-weight:bold" id="admin-sel-name"></div>
                     <div style="color:var(--success)" id="admin-sel-class"></div>
                </div>

                <button class="submit-btn" style="background:var(--success); color:#000;" onclick="adminRegisterStudent()">KAYIT EKLE</button>
            </div>

            <div class="stat-grid">
                <div class="stat-card"><div>Abluka</div><div class="stat-num" id="count-abluka">0</div></div>
                <div class="stat-card"><div>Equilibrio</div><div class="stat-num" id="count-equilibrio">0</div></div>
                <div class="stat-card"><div>Durum</div><div class="stat-num" id="status-text" style="font-size:1.2rem; line-height:2.5rem">-</div></div>
            </div>

            <div style="margin-bottom:10px; font-weight:bold;">Kayıt Listesi:</div>
            <div class="player-list" id="admin-player-list"></div>

            <div class="action-bar">
                <button class="action-btn btn-close" onclick="changeStatus('closed')">KAYITLARI KAPAT</button>
                <button class="action-btn btn-start" onclick="startTournament()">TURNUVAYI BAŞLAT</button>
                <button class="action-btn btn-reset" onclick="resetSystem()">SIFIRLA</button>
            </div>
            
            <div style="margin-top:20px; text-align:center;">
                <button class="tab-btn" onclick="showTournamentViewAdmin()">TURNUVA EKRANINA GİT (SKOR GİR)</button>
            </div>
        </div>
    </div>
</div>

<button class="admin-login-btn" onclick="openAdminModal()"><i class="fas fa-lock"></i></button>

<script>
    const BIN_ID = "69663710ae596e708fd967a0"; 
    const API_KEY = "$2a$10$jyaUVJ4i7lf8QTCnEWTlpesulUPPq0rODrO1Yy/ljOVLKy.FVU1M2"; 

    // --- HAZIR ÖĞRENCİ LİSTESİ ---
    const ALL_STUDENTS = [
{n:"RÜYA KULAK",c:"1/A"}, {n:"ALİN ADA GÖRDÜ",c:"1/A"}, {n:"HÜSEYİN PAMİR GÜL",c:"1/A"}, {n:"ESİLA YILMAZ",c:"1/A"}, {n:"YEKTA MİLAT YILDIZ",c:"1/A"}, {n:"MUSACAN KAHRAMAN",c:"1/A"}, {n:"ELİF ABDULLATİF",c:"1/A"}, {n:"AHMET GENÇ AKBAŞ",c:"1/A"}, {n:"AHMET SELİM KUL",c:"1/A"}, {n:"MAYA ORHAN",c:"1/A"}, {n:"DENİZ SALDIRIŞ",c:"1/A"}, {n:"FADİMENUR KIRDAGEZER",c:"1/A"}, {n:"EMİR ALİ TOZOĞLU",c:"1/A"}, {n:"TOPRAK AKDEMİR",c:"1/A"}, {n:"NEHİR DEMİRBAŞ",c:"1/A"}, {n:"SÜMEYYENUR KIRÇOVA",c:"1/A"}, {n:"DERİN TOYRAN",c:"1/A"}, {n:"YUSUF ARSLAN",c:"1/A"}, {n:"İKRANUR KILIÇ",c:"1/A"}, {n:"BERAT KAYA",c:"1/A"}, {n:"MUHAMMED EYMEN KONDAL",c:"1/A"}, {n:"SUDE BAYRAM",c:"1/A"}, {n:"HALİL ATA SEVİNÇ",c:"1/A"}, {n:"AYCAN TAŞDÖVEN",c:"1/A"}, {n:"MERYEM AĞIRBAŞ",c:"1/A"}, {n:"HİRANUR UZUN",c:"1/A"}, {n:"NUR ELHUDE AHMED",c:"1/A"}, {n:"ALİ YILMAZ ESEN",c:"1/A"}, {n:"ESLEM SONDUK",c:"1/A"}, {n:"AHMED ATLI",c:"1/A"}, {n:"ZEYNEP ECRİN ÖZCAN",c:"1/A"}, {n:"YİĞİT TOSUNOĞLU",c:"1/A"}, {n:"ATA YİĞİT BAYSAL",c:"1/A"},
{n:"DENİZ KASAR",c:"1/B"}, {n:"BUĞLEM YILMAZOĞLU",c:"1/B"}, {n:"ELİF İŞGÜDEN",c:"1/B"}, {n:"MELEK ÖZER",c:"1/B"}, {n:"BEREN İSTANBULLU",c:"1/B"}, {n:"SÜHEYLE ABDULLATİF",c:"1/B"}, {n:"ALPARSLAN YEŞİLYURT",c:"1/B"}, {n:"ECRİN BOZKURT",c:"1/B"}, {n:"MESUT ASLANATA",c:"1/B"}, {n:"BULUT DEMİRBAŞ",c:"1/B"}, {n:"DEVRAN BEYAZER",c:"1/B"}, {n:"KÜBRA GÜRSES",c:"1/B"}, {n:"ALİ İHSAN KALELİ",c:"1/B"}, {n:"FATİH MEHMET ERİN",c:"1/B"}, {n:"HASRET ERDEM",c:"1/B"}, {n:"EYÜP ASAF BEKTAŞ",c:"1/B"}, {n:"DERİN KOYUN",c:"1/B"}, {n:"ELİF NAZ KARAKAŞ",c:"1/B"}, {n:"MİRAÇ ÇELİK",c:"1/B"}, {n:"HAZAL ÖZTÜRK",c:"1/B"}, {n:"EYMEN KAYA",c:"1/B"}, {n:"AZMİ ŞEN",c:"1/B"}, {n:"ARDA CAN",c:"1/B"}, {n:"HAVVA YİĞİT",c:"1/B"}, {n:"AHMET BUĞRA DEMİR",c:"1/B"}, {n:"ASEL DEMİRBİLEK",c:"1/B"}, {n:"BERRA AVCİ",c:"1/B"}, {n:"ESİLA EROĞLU",c:"1/B"}, {n:"İKRA DEMİRTAŞ",c:"1/B"}, {n:"MERT GUNÇE",c:"1/B"}, {n:"ALPEREN AĞIRMAN",c:"1/B"}, {n:"YUSUF İBRAHİM",c:"1/B"}, {n:"RÜZGAR BİLİR",c:"1/B"}, {n:"DUYGU NEFES GÜNGÖR",c:"1/B"},
{n:"ILGIN EROL",c:"1/C"}, {n:"AZRA KENİR",c:"1/C"}, {n:"MEHMET ARAS ŞAHİN",c:"1/C"}, {n:"TOPRAK EFE YÜRÜK",c:"1/C"}, {n:"ADNAN AYAZ KUMCU",c:"1/C"}, {n:"YUSUF BEDEVİ",c:"1/C"}, {n:"HİRANUR AKPINAR",c:"1/C"}, {n:"GÖKÇE DÜZMEN",c:"1/C"}, {n:"SAMİ ANIK",c:"1/C"}, {n:"UMAY ÖZDEMİR",c:"1/C"}, {n:"DORUK ÇİNİ",c:"1/C"}, {n:"HAYRİYE GENÇ",c:"1/C"}, {n:"ENVER EMİR DOYMAZ",c:"1/C"}, {n:"FEYZA YÜSRA KILBAŞ",c:"1/C"}, {n:"YİĞİT TOPCU",c:"1/C"}, {n:"ABDURRAHMAN HAZZANİ",c:"1/C"}, {n:"NAME ÖZIŞIK",c:"1/C"}, {n:"ZEYNEP KEKLİK",c:"1/C"}, {n:"EGEMEN GÖRMEK",c:"1/C"}, {n:"POLAT DEMİRBAŞ",c:"1/C"}, {n:"ECE TOROS",c:"1/C"}, {n:"ZÜMRA KARA",c:"1/C"}, {n:"YAĞMUR BALTA",c:"1/C"}, {n:"BESTE SARICA",c:"1/C"}, {n:"GÖRKEM KARAPINAR",c:"1/C"}, {n:"NİDAL HALLAK",c:"1/C"}, {n:"HAZAL ŞAHİN",c:"1/C"}, {n:"AREL ERDEM AYKURT",c:"1/C"}, {n:"MEYS EL DERVİŞ",c:"1/C"}, {n:"FATMA DERİN İSTANBULLIOĞLU",c:"1/C"}, {n:"BERDAN ERKMEN",c:"1/C"}, {n:"AMMAR HAMO",c:"1/C"}, {n:"ELİF RAVZA AYDIN",c:"1/C"}, {n:"MUHAMMED YAĞIZ KAYA",c:"1/C"}, {n:"İSA KARAAĞAÇ",c:"1/C"}, {n:"BUĞLEM NURİYE VEZİ",c:"1/C"},
{n:"EFSA NUR ÇİFTCİ",c:"1/D"}, {n:"YAĞMUR LİNA AKALAN",c:"1/D"}, {n:"ALİ TUĞRA DEMİR",c:"1/D"}, {n:"DURU GENÇ",c:"1/D"}, {n:"HATİCE HİRA İLKAY",c:"1/D"}, {n:"EGE ÇİNAR",c:"1/D"}, {n:"HAMZA DORUK DEMİR",c:"1/D"}, {n:"BADE HANSU",c:"1/D"}, {n:"BERİVAN NEHİR KOTAN",c:"1/D"}, {n:"ÖYKÜ ÖLMEZ",c:"1/D"}, {n:"MİRAY DURU BALOĞLU",c:"1/D"}, {n:"EBRU ÖNAL",c:"1/D"}, {n:"EMİR FATİH ÖRS",c:"1/D"}, {n:"EMİR ASAF KIZILTAŞ",c:"1/D"}, {n:"İLKER YAĞIZ",c:"1/D"}, {n:"YİĞİT KAYRA ÖNCÜ",c:"1/D"}, {n:"CANAN NERGİZ",c:"1/D"}, {n:"MİLA KASAP",c:"1/D"}, {n:"DERİN TAŞDEMİR",c:"1/D"}, {n:"HİRANUR KÖSE",c:"1/D"}, {n:"ENGİN CAN GÖLCÜ",c:"1/D"}, {n:"FURKAN AĞYÜREK",c:"1/D"}, {n:"EYMEN KAYAOĞLU",c:"1/D"}, {n:"ELİF ADA SEVİK",c:"1/D"}, {n:"İRFAN ADİL DEMİREL",c:"1/D"}, {n:"DORUK EDİS",c:"1/D"}, {n:"ÖMER ASAF ÖNCÜ",c:"1/D"}, {n:"OSMAN YİĞİT",c:"1/D"}, {n:"KAMURAN AYAZ KANTARCI",c:"1/D"}, {n:"REHEF EL ALİ",c:"1/D"}, {n:"AMMAR ŞEBBEK",c:"1/D"}, {n:"MEDİNE DURU KARA",c:"1/D"}, {n:"MEHMET EMİR BAHÇE",c:"1/D"},
{n:"BARAA İBRAHİM",c:"1/E"}, {n:"DAMLA UÇAR",c:"1/E"}, {n:"BİLAL GEDİKLİ",c:"1/E"}, {n:"MELEK TAŞ",c:"1/E"}, {n:"ABDULKAFİ EL ÖMER",c:"1/E"}, {n:"YİĞİT HAMZA CENGİZ",c:"1/E"}, {n:"UMUT İSA KILIÇ",c:"1/E"}, {n:"YAĞIZ İSMET KILIÇ",c:"1/E"}, {n:"ATEŞ UÇUK",c:"1/E"}, {n:"HİRA ÇELİK",c:"1/E"}, {n:"MUHAMMED ENES TUNCER",c:"1/E"}, {n:"SALİH ERDEM YAZAR",c:"1/E"}, {n:"KERİM SALİH AKMAN",c:"1/E"}, {n:"ÖMER ASAF ERHAN",c:"1/E"}, {n:"MELİN PEKİN",c:"1/E"}, {n:"MUHAMMED EMİR KOÇAK",c:"1/E"}, {n:"MEHMET ALİ KOTAN",c:"1/E"}, {n:"KAAN ALĞAN",c:"1/E"}, {n:"BADE YİĞİT",c:"1/E"}, {n:"ZÜLEYHA ŞAHİN",c:"1/E"}, {n:"AHMETHAN SARIASLAN",c:"1/E"}, {n:"İKRANUR KORKMAZ",c:"1/E"}, {n:"BEYZA EMET",c:"1/E"}, {n:"MELİKE İLHAN",c:"1/E"}, {n:"SIRAÇ DURAN",c:"1/E"}, {n:"DİLARA ÇETİN",c:"1/E"}, {n:"MEHMET KAĞAN KAÇAR",c:"1/E"}, {n:"ELİF YAREN KARTAL",c:"1/E"}, {n:"DEFNE ELİF IŞIK",c:"1/E"}, {n:"HAYRUNNİSA ÇEÇEN",c:"1/E"}, {n:"DERİN AKBULUT",c:"1/E"}, {n:"ELİF NAZ BİLEN",c:"1/E"}, {n:"YUSUF AYAZ GÖRMEK",c:"1/E"}, {n:"YASEMİN KILBAŞ",c:"1/E"}, {n:"YUSUF CEYLAN",c:"1/E"},

{n:"IRMAK BEYAZER",c:"2/A"}, {n:"MERİH GÜLMEDİ",c:"2/A"}, {n:"UBAY ELSEMU",c:"2/A"}, {n:"ABDULLATİF DERVİŞ",c:"2/A"}, {n:"SERHAT TOLA",c:"2/A"}, {n:"İKRA YILDIZ",c:"2/A"}, {n:"BENGİSU PEPE",c:"2/A"}, {n:"ŞURA VARSAK",c:"2/A"}, {n:"RABİA BÜSLÜKKARA",c:"2/A"}, {n:"MUHAMMED ALİ GÜNDUK",c:"2/A"}, {n:"ELİF SU UYSAL",c:"2/A"}, {n:"BADE ÖZIŞIK",c:"2/A"}, {n:"MUSTAFA ÖZASLAN",c:"2/A"}, {n:"HİRA YILMAZ",c:"2/A"}, {n:"ADA ÇELİK",c:"2/A"}, {n:"GENCO FAAL",c:"2/A"}, {n:"İKLİMYA GÜVEN",c:"2/A"}, {n:"ADA AKKUŞ",c:"2/A"}, {n:"NAZ KOZAK",c:"2/A"}, {n:"AYŞE ELHAC İBRAHİM",c:"2/A"}, {n:"SUAT ÖZKIRAN",c:"2/A"}, {n:"ESİLA DAĞ",c:"2/A"}, {n:"MEHMET TOSUNOĞLU",c:"2/A"}, {n:"ERTUĞRUL MERİÇ",c:"2/A"}, {n:"BURAK UBEYDULLAH MERMİ",c:"2/A"}, {n:"DAVUT KESER KOTAN",c:"2/A"}, {n:"DENİZ AKDEMİR",c:"2/A"}, {n:"DEFNE SU KIR",c:"2/A"}, {n:"HÜSEYİN ŞENKAL",c:"2/A"},
{n:"NUR İBRAHİM",c:"2/B"}, {n:"YILDIZ KURUN",c:"2/B"}, {n:"MİRAY SEVİM GÖZTEPE",c:"2/B"}, {n:"ELİF NAZ BOZKURT",c:"2/B"}, {n:"ENES BUDAK",c:"2/B"}, {n:"MUHAMMED FURKAN YABALAK",c:"2/B"}, {n:"İSA AYDOĞAN",c:"2/B"}, {n:"REMZİ AYDOĞAN",c:"2/B"}, {n:"SEMİHA GÜL TURAN",c:"2/B"}, {n:"DERYA KARĞAOĞLU",c:"2/B"}, {n:"ALYA NUR BAL",c:"2/B"}, {n:"YİĞİT ÖNAL",c:"2/B"}, {n:"EBRAR NUR ÇİÇEK",c:"2/B"}, {n:"EYMEN AKÇELEBİ",c:"2/B"}, {n:"AYŞE DERVİŞ",c:"2/B"}, {n:"BARAN KILIÇ",c:"2/B"}, {n:"SUDE NAZ ESER",c:"2/B"}, {n:"DENİZ KARĞAOĞLU",c:"2/B"}, {n:"HİRANUR KORKMAZ",c:"2/B"}, {n:"HÜSNA ELİF KARAKOYUN",c:"2/B"}, {n:"FURKAN ANLI",c:"2/B"}, {n:"HARUN ŞAHİN",c:"2/B"}, {n:"EYLÜL DİKMEN",c:"2/B"}, {n:"KUZEY ALDEMİR",c:"2/B"}, {n:"BEREN AKBULUT",c:"2/B"}, {n:"AHMED SALUK",c:"2/B"}, {n:"ZEYNEP ÇALIŞKAN",c:"2/B"}, {n:"ALİ AYAZ KAZAN",c:"2/B"}, {n:"CEYDA FOÇADAN",c:"2/B"}, {n:"AYŞE SALBAŞ",c:"2/B"}, {n:"HAMZA EYMEN ERHAN",c:"2/B"},
{n:"TUANA ŞİRİN",c:"2/C"}, {n:"HALA EL ÖMER",c:"2/C"}, {n:"ELA MELEK DAŞKIN",c:"2/C"}, {n:"MEHMET ENES YILDIRIM",c:"2/C"}, {n:"EGEMEN ER",c:"2/C"}, {n:"AYŞEGÜL EKMEN",c:"2/C"}, {n:"NİSANUR KESER",c:"2/C"}, {n:"TALHA ERDOĞAN",c:"2/C"}, {n:"NUR ASYA BAKIRCİ",c:"2/C"}, {n:"AYSİMA GAŞİ",c:"2/C"}, {n:"BİLAL EMRE ÜNAL",c:"2/C"}, {n:"AYBARS SEVCAN",c:"2/C"}, {n:"ATA MEŞEÇAM",c:"2/C"}, {n:"ASYA GEMİCİ",c:"2/C"}, {n:"ELİF KOÇ",c:"2/C"}, {n:"BİLAL TAKMAZ",c:"2/C"}, {n:"ELİF TEKÖZ",c:"2/C"}, {n:"ASEL KİBAR",c:"2/C"}, {n:"ÇAĞATAY YILMAZ",c:"2/C"}, {n:"DEVRİM ŞAFAK SELÇİN",c:"2/C"}, {n:"GÖKTÜRK MERİÇ",c:"2/C"}, {n:"AHMET AYDIN BULUT",c:"2/C"}, {n:"UMUT EYMEN HAN",c:"2/C"}, {n:"NAVİN AYÇA ERTAŞ",c:"2/C"}, {n:"EYMEN ASAF DAĞ",c:"2/C"}, {n:"MUHAMMED TAHA ADAR PÜSKÜLLÜ",c:"2/C"}, {n:"EGEMEN CEYHAN",c:"2/C"}, {n:"RABİA BETÜL ARAS",c:"2/C"},
{n:"MEMDUHA NEHİR KÖKSALAN",c:"2/D"}, {n:"RAVZA NUR TOLA",c:"2/D"}, {n:"BELİNAY KARABACAK",c:"2/D"}, {n:"MUHAMMED TAYYİP YILDIRIM",c:"2/D"}, {n:"EGEMEN ALTUNDAĞ",c:"2/D"}, {n:"TALHA SESSİZ",c:"2/D"}, {n:"AYAZ AKAY",c:"2/D"}, {n:"YÜSRA NUR GÜLER",c:"2/D"}, {n:"RÜYA DEFNE KAHYA",c:"2/D"}, {n:"MEHMET DİRLİK",c:"2/D"}, {n:"DOĞUKAN DEMİR",c:"2/D"}, {n:"UMUT DEVRİM ÖZDEMİR",c:"2/D"}, {n:"ÖZNUR DUMAN",c:"2/D"}, {n:"EBRAR POLAT",c:"2/D"}, {n:"MUHAMMED ALİ",c:"2/D"}, {n:"ALİ CARAD",c:"2/D"}, {n:"MİRAÇ KÖLE",c:"2/D"}, {n:"SUDE ÖZTÜRK",c:"2/D"}, {n:"FATMA RUHAYYE",c:"2/D"}, {n:"HAZAL BOYACI",c:"2/D"}, {n:"SONGÜL ESMA AĞBULUT",c:"2/D"}, {n:"YAVUZ SELİM GÜNEŞ",c:"2/D"}, {n:"EGEMEN TAN",c:"2/D"}, {n:"İNCİ MİNA KAYA",c:"2/D"}, {n:"GÖZDENUR POLAT",c:"2/D"}, {n:"AZİZ MUHARREM ATİLA",c:"2/D"}, {n:"MUHAMMED EROĞLU",c:"2/D"}, {n:"MUSTAFA EVREN ÖZDEMİR",c:"2/D"}, {n:"MELİSA ÇANKAYA",c:"2/D"}, {n:"HAVVA BEREN ATAK",c:"2/D"},
{n:"ÇINAR AKMAN",c:"2/E"}, {n:"NUR MUHAMMED",c:"2/E"}, {n:"ALA CARAD",c:"2/E"}, {n:"ZEYNEP ACAR",c:"2/E"}, {n:"NURAL YAPRAK CİRİT",c:"2/E"}, {n:"FATMA NUR BÜSLÜKKARA",c:"2/E"}, {n:"POLAT BUDAK",c:"2/E"}, {n:"KÜBRA YÜCEŞAN",c:"2/E"}, {n:"DOĞA NAZAN ÖZLEŞ",c:"2/E"}, {n:"ALİ BOYACI",c:"2/E"}, {n:"ZEYNEP ŞURA ALKIŞ",c:"2/E"}, {n:"ERTUĞRUL KARAKAYA",c:"2/E"}, {n:"KERİM KARALI",c:"2/E"}, {n:"AYŞE ALAN",c:"2/E"}, {n:"ELİF SU YILDIZAY",c:"2/E"}, {n:"İREM GÖREN",c:"2/E"}, {n:"RAFİF EL ALİ",c:"2/E"}, {n:"ÖZGÜR DENİZ KAYA",c:"2/E"}, {n:"AYŞE HAFSA ATASEVEN",c:"2/E"}, {n:"ÖMER MİRZA AYTEN",c:"2/E"}, {n:"ELİF GÜVENDİK",c:"2/E"}, {n:"AFRA MELEK MERİÇ",c:"2/E"}, {n:"ECRİN SU KARADEMİR",c:"2/E"}, {n:"UMUTCAN AKDEMİR",c:"2/E"}, {n:"ÖMER BERKAN YILDIZ",c:"2/E"}, {n:"OSMAN YİĞİT YILDIRIM",c:"2/E"}, {n:"EMİNE ABDULKADER ABLAK",c:"2/E"}, {n:"AYŞEGÜL ÇULHA",c:"2/E"},
{n:"AMİNE DILDA KARAKAYA",c:"2/F"}, {n:"İLDENİZ KARADAĞ",c:"2/F"}, {n:"FATİH KAĞAN ŞENCAN",c:"2/F"}, {n:"NİLDA KARA",c:"2/F"}, {n:"ÖMER HALİS MUSUL",c:"2/F"}, {n:"SELEN ÜSTÜNÇAĞ",c:"2/F"}, {n:"EBRAR KOÇOĞLU",c:"2/F"}, {n:"FATİH EYMEN SEVİK",c:"2/F"}, {n:"RAMAZAN EFE KUZU",c:"2/F"}, {n:"ZEYNEP SARE ÇALIKUŞ",c:"2/F"}, {n:"BADE ESER",c:"2/F"}, {n:"BEDİRHAN HALİLOĞLU",c:"2/F"}, {n:"ESLEM GERGİN",c:"2/F"}, {n:"ERAY ÖZEN",c:"2/F"}, {n:"RUE KENCU",c:"2/F"}, {n:"DAVUT ERDEM DEMİR",c:"2/F"}, {n:"HENA YİLMAZ",c:"2/F"}, {n:"HALİS DEMİRBAŞ",c:"2/F"}, {n:"DENİZ TİRYAKİ",c:"2/F"}, {n:"AYŞİN AFRA DURMAZ",c:"2/F"}, {n:"İNCİ AYDIN",c:"2/F"}, {n:"ERTUĞRUL ÇAKICI",c:"2/F"}, {n:"ELİF ELMACI",c:"2/F"}, {n:"EMİR ALAY SARİ",c:"2/F"}, {n:"ESMA SULTAN CEBESOY",c:"2/F"}, {n:"POYRAZ DEMİRBAŞ",c:"2/F"}, {n:"DURU ELİS CİCİK",c:"2/F"}, {n:"GÜLŞEN GÜNDOĞDU",c:"2/F"},

{n:"ZÜLAL SÖZBİLİR",c:"2/A"}, {n:"İKRANUR AYDENİZ",c:"2/A"}, {n:"AYAZ YANAR",c:"2/A"}, {n:"AFRA NAS YILDIZ",c:"2/A"}, {n:"AHMET ASAF KOCA",c:"2/A"}, {n:"EBRAR DİLEK KASAPLAR",c:"2/A"}, {n:"İNCİ KÖSE",c:"2/A"}, {n:"ESİLA ÖZ",c:"2/A"}, {n:"HAFİZE YEŞİLYURT",c:"2/A"}, {n:"AHSEN DEMİRBAŞ",c:"2/A"}, {n:"MİR METE YANAR",c:"2/A"}, {n:"REYYAN AKA",c:"2/A"}, {n:"YİĞİT ARAS GÜLÇİMEN",c:"2/A"}, {n:"ZEYNEP ÇAMUR",c:"2/A"}, {n:"BAŞAK EREN",c:"2/A"}, {n:"HALİT MİRAÇ ARAS",c:"2/A"}, {n:"HAMZA TURAN ÜLBEĞİ",c:"2/A"}, {n:"EMİR ÖZTÜRK",c:"2/A"}, {n:"HACER UHEYBİ",c:"2/A"}, {n:"HAFSANUR SERTEL",c:"2/A"}, {n:"ELA GÜLER",c:"2/A"}, {n:"EZGİ YAZIK",c:"2/A"}, {n:"NİDAL AL ELIWI",c:"2/A"}, {n:"İNCİ SU BÜTÜNER",c:"2/A"}, {n:"MUHAMMED ŞIHADİ",c:"2/A"},
{n:"BURAK KARA",c:"2/B"}, {n:"HÜSEYİN EFE ARI",c:"2/B"}, {n:"ÇAĞATAY ÖZER",c:"2/B"}, {n:"ALEYNA SEVCAN",c:"2/B"}, {n:"AZRA TOROS",c:"2/B"}, {n:"ALPEREN ÇAVUŞ",c:"2/B"}, {n:"ÇAĞAN MOLLA",c:"2/B"}, {n:"KAAN EMRE AYDIN",c:"2/B"}, {n:"MELİS KIZILÇINAR",c:"2/B"}, {n:"EFE PARLAK",c:"2/B"}, {n:"DEFNE ÖZDEMİR",c:"2/B"}, {n:"RANA ABDULKADER ABLAK",c:"2/B"}, {n:"SİMANUR UÇAR",c:"2/B"}, {n:"ZEYNEP KUZEY",c:"2/B"}, {n:"HAYAL YONTAR",c:"2/B"}, {n:"SEFA YILMAZOĞLU",c:"2/B"}, {n:"KAYRA YAĞIZ SARGIN",c:"2/B"}, {n:"ECENUR KAHRAMAN",c:"2/B"}, {n:"ÇAĞAN ŞEREF ALTUN",c:"2/B"}, {n:"EMRE ÇALIŞLAR",c:"2/B"}, {n:"AZRA DEFNE HORASAN",c:"2/B"}, {n:"BERİL DEMİRTAŞ",c:"2/B"}, {n:"MUHAMMED EMİN ÇORUH",c:"2/B"}, {n:"EDANUR TAŞ",c:"2/B"}, {n:"ARDA BEŞPINARLI",c:"2/B"}, {n:"MELİH KIRŞEHİRLİ",c:"2/B"}, {n:"YUSUF ADSİZ",c:"2/B"}, {n:"EMİNE NİSA ÖZDEMİR",c:"2/B"}, {n:"MUHAMMED ENSAR EROĞLU",c:"2/B"}, {n:"MELEK SU ŞEN",c:"2/B"}, {n:"ÜMRA SUNA KALELİ",c:"2/B"}, {n:"ÖYKÜ TİRYAKİ",c:"2/B"}, {n:"DEFNE SULUOĞLU",c:"2/B"}, {n:"ELİF İPEK DEMİREL",c:"2/B"},
{n:"BERAT ACA",c:"2/C"}, {n:"RİM ALBEM",c:"2/C"}, {n:"AYŞEGÜL KABAR",c:"2/C"}, {n:"NAZLI AKBAŞ",c:"2/C"}, {n:"ÖMER AKGÜN",c:"2/C"}, {n:"ALYA CAN",c:"2/C"}, {n:"ELİF RANA YAZAR",c:"2/C"}, {n:"FATMA ABDULLATİF",c:"2/C"}, {n:"ÜMMÜ GÜLSÜM AĞIRBAŞ",c:"2/C"}, {n:"ZEYNEP FEYZA ÖZEN",c:"2/C"}, {n:"TESNİM AHMAD",c:"2/C"}, {n:"ASİL ATA GÜL",c:"2/C"}, {n:"EMRAH KASAP",c:"2/C"}, {n:"ÖMER ASAF SEVİK",c:"2/C"}, {n:"OĞUZ IŞIK",c:"2/C"}, {n:"CANER ÖZTÜRK",c:"2/C"}, {n:"MELİH ACUN",c:"2/C"}, {n:"SELAM EL ALİVİ",c:"2/C"}, {n:"ARAS DEMİRBAŞ",c:"2/C"}, {n:"YUSUF ÇOBAN",c:"2/C"}, {n:"YAĞIZ TUNA ÇETİNKAYA",c:"2/C"}, {n:"ALMİRA GÜLFİDAN EROĞLU",c:"2/C"}, {n:"GADİR DABOL",c:"2/C"}, {n:"FURKAN EMİN UZUN",c:"2/C"}, {n:"BARAN BAHÇE",c:"2/C"}, {n:"MİRASU LAÇİNKAYA",c:"2/C"}, {n:"MİRAY ERKEK",c:"2/C"}, {n:"SİNEM UYANIK",c:"2/C"}, {n:"EBUBEKİR KOÇU",c:"2/C"}, {n:"İLKER MERT ÇETİN",c:"2/C"}, {n:"SILA NUR TÜNCİ",c:"2/C"}, {n:"MUHAMMED SAİD ALEZZO",c:"2/C"},
{n:"SU TOPCUOĞLU",c:"2/D"}, {n:"ONUR KARAKAŞ",c:"2/D"}, {n:"EYMEN ZINBA",c:"2/D"}, {n:"MİRA KAMA",c:"2/D"}, {n:"KEMAL EGE ARICI",c:"2/D"}, {n:"HİRA TOSUN",c:"2/D"}, {n:"AZRA MELEK ÇAVDAR",c:"2/D"}, {n:"ESLEM TUNA",c:"2/D"}, {n:"İKRA BALOĞLU",c:"2/D"}, {n:"MÜRİVET BELİNAY YILMAZ",c:"2/D"}, {n:"TUĞBA NİSA ŞAHİN",c:"2/D"}, {n:"ZEYNEP ORHAN",c:"2/D"}, {n:"NERMİN MUHAMMED",c:"2/D"}, {n:"ALİ ASLAN",c:"2/D"}, {n:"ÇINAR DEMİRBAŞ",c:"2/D"}, {n:"FURKAN DİLEK",c:"2/D"}, {n:"KEMAL OKTAY",c:"2/D"}, {n:"ÖMER BAK",c:"2/D"}, {n:"UBEYDULLAH ÖNAL",c:"2/D"}, {n:"YİĞİT ŞAHAN",c:"2/D"}, {n:"SERHAT ÜNAL",c:"2/D"}, {n:"UMUT ÖZTÜRK",c:"2/D"}, {n:"ASLAN KEMAL SÖYLEMEZ",c:"2/D"}, {n:"RÜZGAR ERDUR",c:"2/D"}, {n:"SARP GÜNDÜZ",c:"2/D"}, {n:"ATABEY AVCI",c:"2/D"}, {n:"HÜMA ATASOY",c:"2/D"}, {n:"DURU AKIN",c:"2/D"}, {n:"MUHAMMED EFE YENİLMEZ",c:"2/D"}, {n:"EGEMEN CANGÜR",c:"2/D"}, {n:"HUDE ALEZZO",c:"2/D"},
{n:"HİRANUR ÇEÇEN",c:"2/E"}, {n:"YİĞİT HAMZA SU",c:"2/E"}, {n:"TİMUR TAHA DEMİR",c:"2/E"}, {n:"AZRA ALP",c:"2/E"}, {n:"ASYA DURAN",c:"2/E"}, {n:"KUMSAL AKKUŞ",c:"2/E"}, {n:"SÜMEYYE KIRKPINAR",c:"2/E"}, {n:"GÜNEŞ GENÇ",c:"2/E"}, {n:"ZEHRANUR ATAŞ",c:"2/E"}, {n:"GÖRKEM KARA",c:"2/E"}, {n:"ALİ GÜRSOY",c:"2/E"}, {n:"ENES GÜZEL",c:"2/E"}, {n:"ÖMER SELİM DAĞ",c:"2/E"}, {n:"ATAKAN AĞBULUT",c:"2/E"}, {n:"BARAN EYMEN GÜNCÜ",c:"2/E"}, {n:"YİĞİT KIRKPINAR",c:"2/E"}, {n:"EYÜP OSMAN KÖKLÜTAŞ",c:"2/E"}, {n:"ÇAĞATAY GÜL",c:"2/E"}, {n:"EDİZ TAŞBUNAR",c:"2/E"}, {n:"ABDULSAMET DEMİRDAŞ",c:"2/E"}, {n:"NİZAM CAN FAAL",c:"2/E"}, {n:"MUHAMMED EMİN MURAT",c:"2/E"}, {n:"HÜSEYİN ENES MURAT",c:"2/E"}, {n:"AYAZ EMİR NARİN",c:"2/E"}, {n:"MUHAMMED RUHAYYE",c:"2/E"}, {n:"ASIM EREN ERKAN",c:"2/E"}, {n:"YASİR SERKAN DÜZ",c:"2/E"},
{n:"YİĞİT ÇİFTCİ",c:"2/F"}, {n:"EMİR KIRKPINAR",c:"2/F"}, {n:"DENİZ İVGEN",c:"2/F"}, {n:"ASYA DİLBAZ",c:"2/F"}, {n:"EYLÜL KANBER",c:"2/F"}, {n:"EMİRHAN KODALAK",c:"2/F"}, {n:"RÜZGAR KODALAK",c:"2/F"}, {n:"FATMA ELÖMER",c:"2/F"}, {n:"TUANA KOTAN",c:"2/F"}, {n:"AHMED AL ELIWI",c:"2/F"}, {n:"ECRİN ÇAKIR",c:"2/F"}, {n:"ESLİM MİNA ATMACA",c:"2/F"}, {n:"İLKNUR SAĞLAM",c:"2/F"}, {n:"NİHAL MIHÇI",c:"2/F"}, {n:"SEVGİ YANĞ",c:"2/F"}, {n:"ZÜLEYHA AYYILDIZ",c:"2/F"}, {n:"MİNEL SENA KARASU",c:"2/F"}, {n:"CEMAL DEMİREL",c:"2/F"}, {n:"DEFNE GÜLSÜM",c:"2/F"}, {n:"CESUR DEMİRBAŞ",c:"2/F"}, {n:"FURKAN YAŞAR",c:"2/F"}, {n:"İSMAİL EYMEN ÖNCÜ",c:"2/F"}, {n:"POYRAZ ÖZTÜRK",c:"2/F"}, {n:"UMUT ÇİNİ",c:"2/F"}, {n:"YUSUF CEYLAN",c:"2/F"}, {n:"YUSUF ÖLMEZ",c:"2/F"}, {n:"NEGAM AHMET",c:"2/F"}, {n:"MUSTAFA ATA ARSLAN",c:"2/F"}, {n:"ALİ İKRAM AYDIN",c:"2/F"}, {n:"AHMED EL AHMED",c:"2/F"}, {n:"AZRA MENEKŞE",c:"2/F"}, {n:"IRMAK EROĞLU",c:"2/F"},
{n:"NİSANUR ÜNAL",c:"2/G"}, {n:"MEVSİM ŞENGÜN",c:"2/G"}, {n:"ALPER ÇAKAR",c:"2/G"}, {n:"CİHAN BUĞRA SÖNMEZ",c:"2/G"}, {n:"KENAN BERK İNCİ",c:"2/G"}, {n:"YAĞIZ DUMAN",c:"2/G"}, {n:"NİSANUR BAYTEKİN",c:"2/G"}, {n:"HAMZA MUSUL",c:"2/G"}, {n:"BÜŞRA AĞYÜREK",c:"2/G"}, {n:"MEHMET CAN ORHAN",c:"2/G"}, {n:"MUHAMMET BİLAL ARSLAN",c:"2/G"}, {n:"NEHİR EROĞLU",c:"2/G"}, {n:"ZÜMRA DUMAN",c:"2/G"}, {n:"YAĞIZ KARAGÜNEY",c:"2/G"}, {n:"POYRAZ LAÇİNKAYA",c:"2/G"}, {n:"ERTUĞRUL GÜNEŞ",c:"2/G"}, {n:"VEFA ZENO MAHMALAT",c:"2/G"}, {n:"BAHADDİN ALLEVİ",c:"2/G"}, {n:"BURAK YAŞAR",c:"2/G"}, {n:"DEMİR KURT",c:"2/G"}, {n:"ESMANUR GÖZE",c:"2/G"}, {n:"AMİNE BAHADIR",c:"2/G"}, {n:"SEMİH SIRAÇ KANSU",c:"2/G"}, {n:"İLKİM AÇELYA GÜLMEZ",c:"2/G"}, {n:"BERFİN ARTUĞ",c:"2/G"}, {n:"ECRİN NİSA YİGEN",c:"2/G"}, {n:"ÖYKÜ ATA",c:"2/G"}, {n:"YAĞMUR KIZIL",c:"2/G"}, {n:"İLKE MAVİBAŞ",c:"2/G"}, {n:"MİRA AKBULUT",c:"2/G"}, {n:"GÜLŞAH ESMA SEVİM",c:"2/G"}, {n:"KEREM EGE TURGAY",c:"2/G"},

{n:"IRMAK BEYAZER",c:"3/A"},{n:"MERİH GÜLMEDİ",c:"3/A"},{n:"UBAY ELSEMU",c:"3/A"},{n:"ABDULLATİF DERVİŞ",c:"3/A"},{n:"SERHAT TOLA",c:"3/A"},{n:"İKRA YILDIZ",c:"3/A"},{n:"BENGİSU PEPE",c:"3/A"},{n:"ŞURA VARSAK",c:"3/A"},{n:"RABİA BÜSLÜKKARA",c:"3/A"},{n:"MUHAMMED ALİ GÜNDUK",c:"3/A"},{n:"ELİF SU UYSAL",c:"3/A"},{n:"BADE ÖZIŞIK",c:"3/A"},{n:"MUSTAFA ÖZASLAN",c:"3/A"},{n:"HİRA YILMAZ",c:"3/A"},{n:"ADA ÇELİK",c:"3/A"},{n:"GENCO FAAL",c:"3/A"},{n:"İKLİMYA GÜVEN",c:"3/A"},{n:"ADA AKKUŞ",c:"3/A"},{n:"NAZ KOZAK",c:"3/A"},{n:"AYŞE ELHAC İBRAHİM",c:"3/A"},{n:"SUAT ÖZKIRAN",c:"3/A"},{n:"ESİLA DAĞ",c:"3/A"},{n:"MEHMET TOSUNOĞLU",c:"3/A"},{n:"ERTUĞRUL MERİÇ",c:"3/A"},{n:"BURAK UBEYDULLAH MERMİ",c:"3/A"},{n:"DAVUT KESER KOTAN",c:"3/A"},{n:"DENİZ AKDEMİR",c:"3/A"},{n:"DEFNE SU KIR",c:"3/A"},{n:"HÜSEYİN ŞENKAL",c:"3/A"},
{n:"NUR İBRAHİM",c:"3/B"},{n:"YILDIZ KURUN",c:"3/B"},{n:"MİRAY SEVİM GÖZTEPE",c:"3/B"},{n:"ELİF NAZ BOZKURT",c:"3/B"},{n:"ENES BUDAK",c:"3/B"},{n:"MUHAMMED FURKAN YABALAK",c:"3/B"},{n:"İSA AYDOĞAN",c:"3/B"},{n:"REMZİ AYDOĞAN",c:"3/B"},{n:"SEMİHA GÜL TURAN",c:"3/B"},{n:"DERYA KARĞAOĞLU",c:"3/B"},{n:"ALYA NUR BAL",c:"3/B"},{n:"YİĞİT ÖNAL",c:"3/B"},{n:"EBRAR NUR ÇİÇEK",c:"3/B"},{n:"EYMEN AKÇELEBİ",c:"3/B"},{n:"AYŞE DERVİŞ",c:"3/B"},{n:"BARAN KILIÇ",c:"3/B"},{n:"SUDE NAZ ESER",c:"3/B"},{n:"DENİZ KARĞAOĞLU",c:"3/B"},{n:"HİRANUR KORKMAZ",c:"3/B"},{n:"HÜSNA ELİF KARAKOYUN",c:"3/B"},{n:"FURKAN ANLI",c:"3/B"},{n:"HARUN ŞAHİN",c:"3/B"},{n:"EYLÜL DİKMEN",c:"3/B"},{n:"KUZEY ALDEMİR",c:"3/B"},{n:"BEREN AKBULUT",c:"3/B"},{n:"AHMED SALUK",c:"3/B"},{n:"ZEYNEP ÇALIŞKAN",c:"3/B"},{n:"ALİ AYAZ KAZAN",c:"3/B"},{n:"CEYDA FOÇADAN",c:"3/B"},{n:"AYŞE SALBAŞ",c:"3/B"},{n:"HAMZA EYMEN ERHAN",c:"3/B"},
{n:"TUANA ŞİRİN",c:"3/C"},{n:"HALA EL ÖMER",c:"3/C"},{n:"ELA MELEK DAŞKIN",c:"3/C"},{n:"MEHMET ENES YILDIRIM",c:"3/C"},{n:"EGEMEN ER",c:"3/C"},{n:"AYŞEGÜL EKMEN",c:"3/C"},{n:"NİSANUR KESER",c:"3/C"},{n:"TALHA ERDOĞAN",c:"3/C"},{n:"NUR ASYA BAKIRCİ",c:"3/C"},{n:"AYSİMA GAŞİ",c:"3/C"},{n:"BİLAL EMRE ÜNAL",c:"3/C"},{n:"AYBARS SEVCAN",c:"3/C"},{n:"ATA MEŞEÇAM",c:"3/C"},{n:"ASYA GEMİCİ",c:"3/C"},{n:"ELİF KOÇ",c:"3/C"},{n:"BİLAL TAKMAZ",c:"3/C"},{n:"ELİF TEKÖZ",c:"3/C"},{n:"ASEL KİBAR",c:"3/C"},{n:"ÇAĞATAY YILMAZ",c:"3/C"},{n:"DEVRİM ŞAFAK SELÇİN",c:"3/C"},{n:"GÖKTÜRK MERİÇ",c:"3/C"},{n:"AHMET AYDIN BULUT",c:"3/C"},{n:"UMUT EYMEN HAN",c:"3/C"},{n:"NAVİN AYÇA ERTAŞ",c:"3/C"},{n:"EYMEN ASAF DAĞ",c:"3/C"},{n:"MUHAMMED TAHA ADAR PÜSKÜLLÜ",c:"3/C"},{n:"EGEMEN CEYHAN",c:"3/C"},{n:"RABİA BETÜL ARAS",c:"3/C"},
{n:"MEMDUHA NEHİR KÖKSALAN",c:"3/D"},{n:"RAVZA NUR TOLA",c:"3/D"},{n:"BELİNAY KARABACAK",c:"3/D"},{n:"MUHAMMED TAYYİP YILDIRIM",c:"3/D"},{n:"EGEMEN ALTUNDAĞ",c:"3/D"},{n:"TALHA SESSİZ",c:"3/D"},{n:"AYAZ AKAY",c:"3/D"},{n:"YÜSRA NUR GÜLER",c:"3/D"},{n:"RÜYA DEFNE KAHYA",c:"3/D"},{n:"MEHMET DİRLİK",c:"3/D"},{n:"DOĞUKAN DEMİR",c:"3/D"},{n:"UMUT DEVRİM ÖZDEMİR",c:"3/D"},{n:"ÖZNUR DUMAN",c:"3/D"},{n:"EBRAR POLAT",c:"3/D"},{n:"MUHAMMED ALİ",c:"3/D"},{n:"ALİ CARAD",c:"3/D"},{n:"MİRAÇ KÖLE",c:"3/D"},{n:"SUDE ÖZTÜRK",c:"3/D"},{n:"FATMA RUHAYYE",c:"3/D"},{n:"HAZAL BOYACI",c:"3/D"},{n:"SONGÜL ESMA AĞBULUT",c:"3/D"},{n:"YAVUZ SELİM GÜNEŞ",c:"3/D"},{n:"EGEMEN TAN",c:"3/D"},{n:"İNCİ MİNA KAYA",c:"3/D"},{n:"GÖZDENUR POLAT",c:"3/D"},{n:"AZİZ MUHARREM ATİLA",c:"3/D"},{n:"MUHAMMED EROĞLU",c:"3/D"},{n:"MUSTAFA EVREN ÖZDEMİR",c:"3/D"},{n:"MELİSA ÇANKAYA",c:"3/D"},{n:"HAVVA BEREN ATAK",c:"3/D"},
{n:"ÇINAR AKMAN",c:"3/E"},{n:"NUR MUHAMMED",c:"3/E"},{n:"ALA CARAD",c:"3/E"},{n:"ZEYNEP ACAR",c:"3/E"},{n:"NURAL YAPRAK CİRİT",c:"3/E"},{n:"FATMA NUR BÜSLÜKKARA",c:"3/E"},{n:"POLAT BUDAK",c:"3/E"},{n:"KÜBRA YÜCEŞAN",c:"3/E"},{n:"DOĞA NAZAN ÖZLEŞ",c:"3/E"},{n:"ALİ BOYACI",c:"3/E"},{n:"ZEYNEP ŞURA ALKIŞ",c:"3/E"},{n:"ERTUĞRUL KARAKAYA",c:"3/E"},{n:"KERİM KARALI",c:"3/E"},{n:"AYŞE ALAN",c:"3/E"},{n:"ELİF SU YILDIZAY",c:"3/E"},{n:"İREM GÖREN",c:"3/E"},{n:"RAFİF EL ALİ",c:"3/E"},{n:"ÖZGÜR DENİZ KAYA",c:"3/E"},{n:"AYŞE HAFSA ATASEVEN",c:"3/E"},{n:"ÖMER MİRZA AYTEN",c:"3/E"},{n:"ELİF GÜVENDİK",c:"3/E"},{n:"AFRA MELEK MERİÇ",c:"3/E"},{n:"ECRİN SU KARADEMİR",c:"3/E"},{n:"UMUTCAN AKDEMİR",c:"3/E"},{n:"ÖMER BERKAN YILDIZ",c:"3/E"},{n:"OSMAN YİĞİT YILDIRIM",c:"3/E"},{n:"EMİNE ABDULKADER ABLAK",c:"3/E"},{n:"AYŞEGÜL ÇULHA",c:"3/E"},
{n:"AMİNE DILDA KARAKAYA",c:"3/F"},{n:"İLDENİZ KARADAĞ",c:"3/F"},{n:"FATİH KAĞAN ŞENCAN",c:"3/F"},{n:"NİLDA KARA",c:"3/F"},{n:"ÖMER HALİS MUSUL",c:"3/F"},{n:"SELEN ÜSTÜNÇAĞ",c:"3/F"},{n:"EBRAR KOÇOĞLU",c:"3/F"},{n:"FATİH EYMEN SEVİK",c:"3/F"},{n:"RAMAZAN EFE KUZU",c:"3/F"},{n:"ZEYNEP SARE ÇALIKUŞ",c:"3/F"},{n:"BADE ESER",c:"3/F"},{n:"BEDİRHAN HALİLOĞLU",c:"3/F"},{n:"ESLEM GERGİN",c:"3/F"},{n:"ERAY ÖZEN",c:"3/F"},{n:"RUE KENCU",c:"3/F"},{n:"DAVUT ERDEM DEMİR",c:"3/F"},{n:"HENA YİLMAZ",c:"3/F"},{n:"HALİS DEMİRBAŞ",c:"3/F"},{n:"DENİZ TİRYAKİ",c:"3/F"},{n:"AYŞİN AFRA DURMAZ",c:"3/F"},{n:"İNCİ AYDIN",c:"3/F"},{n:"ERTUĞRUL ÇAKICI",c:"3/F"},{n:"ELİF ELMACI",c:"3/F"},{n:"EMİR ALAY SARİ",c:"3/F"},{n:"ESMA SULTAN CEBESOY",c:"3/F"},{n:"POYRAZ DEMİRBAŞ",c:"3/F"},{n:"DURU ELİS CİCİK",c:"3/F"},{n:"GÜLŞEN GÜNDOĞDU",c:"3/F"},
{n:"ÖYKÜ TİRYAKİ",c:"4/A"},{n:"AZRA TOROS",c:"4/A"},{n:"ÜMRA SUNA KALELİ",c:"4/A"},{n:"DEFNE SULUOĞLU",c:"4/A"},{n:"ENES GÜZEL",c:"4/D"},{n:"ECRİN ÇAKIR",c:"4/E"},{n:"YAĞMUR KIZIL",c:"4/F"},{n:"HAMZA MUSUL",c:"4/F"},{n:"POYRAZ LAÇİNKAYA",c:"4/F"},{n:"AMİNE BAHADIR",c:"4/F"}
    ];

    const BASE_PLAYERS = [
        { name: "SALİH ERDEM YAZAR", class: "2/E", gameId: 2 },
        { name: "YİĞİT HAMZA CENGİZ", class: "2/E", gameId: 2 },
        { name: "ÖYKÜ TİRYAKİ", class: "4/A", gameId: 2 },
        { name: "AZRA TOROS", class: "4/A", gameId: 2 },
        { name: "ALİ AYAZ KAZAN", class: "3/B", gameId: 2 },
        { name: "SONGÜL ESMA AĞBULUT", class: "3/D", gameId: 2 },
        { name: "ÖMER KAŞIKÇI", class: "2/D", gameId: 2 },
        { name: "ÖZNUR DUMAN", class: "3/D", gameId: 2 },
        { name: "MEMDUHA NEHİR KÖKSALAN", class: "3/D", gameId: 2 },
        { name: "HAMZA MUSUL", class: "4/F", gameId: 2 },
        { name: "POYRAZ LAÇİNKAYA", class: "4/F", gameId: 2 },
        { name: "AZİZ MUHARREM ATİLA", class: "3/D", gameId: 2 },
        { name: "HAYRUNNİSA ÇEÇEN", class: "2/E", gameId: 2 },
        { name: "ÜMRA SUNA KALELİ", class: "4/A", gameId: 2 },
        { name: "DEFNE SULUOĞLU", class: "4/A", gameId: 2 },

        { name: "ECRİN ÇAKIR", class: "4/E", gameId: 4 },
        { name: "YAĞMUR KIZIL", class: "4/F", gameId: 4 },
        { name: "MUHAMMED EMİR KOÇAK", class: "2/E", gameId: 4 },
        { name: "ENES GÜZEL", class: "4/D", gameId: 4 },
        { name: "AYŞENUR YILMAZ", class: "2/A", gameId: 4 },
        { name: "AMİNE BAHADIR", class: "4/F", gameId: 4 },
        { name: "ALİ AYAZ KAZAN", class: "3/B", gameId: 4 },
        { name: "SONGÜL ESMA AĞBULUT", class: "3/D", gameId: 4 },
        { name: "YAVUZ SELİM GÜNEŞ", class: "3/D", gameId: 4 },
        { name: "MELİSA ÇANKAYA", class: "3/D", gameId: 4 },
        { name: "ÖMER KAŞIKÇI", class: "2/D", gameId: 4 },
        { name: "ÖZNUR DUMAN", class: "3/D", gameId: 4 },
        { name: "HAMZA MUSUL", class: "4/F", gameId: 4 },
        { name: "POYRAZ LAÇİNKAYA", class: "4/F", gameId: 4 },
        { name: "HAYRUNNİSA ÇEÇEN", class: "2/E", gameId: 4 }
    ];

    const GAMES = [ { id: 2, name: "Abluka" }, { id: 4, name: "Equilibrio" } ];

    let systemData = { status: "registration", players: [...BASE_PLAYERS], brackets: {} };
    let isAdmin = false;
    let isOnTournamentView = false; // Turnuva ekranında mı?
    let activeTabGameId = 2;
    let selectedStudent = null;

    window.onload = async () => { await loadData(); setInterval(loadData, 5000); };

    async function loadData() {
        try {
            if(BIN_ID.length < 5) {
                const local = localStorage.getItem('merkezV28');
                if(local) systemData = JSON.parse(local);
                updateUI(); document.getElementById('loading-overlay').style.display = 'none'; return;
            }
            const res = await fetch(`https://api.jsonbin.io/v3/b/${BIN_ID}/latest`, { headers: { 'X-Master-Key': API_KEY } });
            if(res.ok) { 
                const json = await res.json(); 
                if (Object.keys(json.record).length === 0) await saveData(); 
                else systemData = json.record; 
                updateUI(); 
            }
        } catch(e) {} document.getElementById('loading-overlay').style.display = 'none';
    }

    async function saveData() {
        document.getElementById('loading-overlay').style.display = 'flex';
        try {
            if(BIN_ID.length < 5) { localStorage.setItem('merkezV28', JSON.stringify(systemData)); } 
            else { await fetch(`https://api.jsonbin.io/v3/b/${BIN_ID}`, { method: 'PUT', headers: { 'Content-Type': 'application/json', 'X-Master-Key': API_KEY }, body: JSON.stringify(systemData) }); }
        } catch(e) { alert("Kaydetme hatası!"); }
        document.getElementById('loading-overlay').style.display = 'none'; updateUI();
    }

    function updateUI() {
        if(isOnTournamentView) {
            renderBracket(activeTabGameId); // Sadece bracketi güncelle, ekranı değiştirme
            return; 
        }

        document.querySelectorAll('.view-section').forEach(el => el.classList.remove('active'));

        if (isAdmin) {
            document.getElementById('admin-view').classList.add('active');
            renderAdminPanel();
        } else {
            if (systemData.status === 'registration') document.getElementById('registration-view').classList.add('active');
            else if (systemData.status === 'closed') document.getElementById('waiting-view').classList.add('active');
            else if (systemData.status === 'active') {
                document.getElementById('tournament-view').classList.add('active');
                renderTournamentTabs();
                renderBracket(activeTabGameId);
            }
        }
    }

    function showTournamentViewAdmin() {
        isOnTournamentView = true;
        document.getElementById('admin-view').classList.remove('active');
        document.getElementById('tournament-view').classList.add('active');
        document.getElementById('admin-back-btn').style.display = 'block';
        renderTournamentTabs();
        renderBracket(activeTabGameId);
    }

    function backToAdmin() {
        isOnTournamentView = false;
        updateUI();
    }

    // --- DİĞER FONKSİYONLAR (Aynı) ---
    // AKILLI ARAMA
    const searchInput = document.getElementById('student-search');
    const resultsBox = document.getElementById('search-results');
    function filterStudents() {
        const val = searchInput.value.trim().toUpperCase();
        if(val.length < 2) { resultsBox.style.display = 'none'; return; }
        const matches = ALL_STUDENTS.filter(s => s.n.startsWith(val));
        resultsBox.innerHTML = '';
        if(matches.length > 0) {
            resultsBox.style.display = 'block';
            matches.slice(0, 8).forEach(s => { 
                const div = document.createElement('div');
                div.className = 'search-item';
                div.innerHTML = `<strong>${s.n}</strong><small>${s.c}</small>`;
                div.onclick = () => selectStudent(s);
                resultsBox.appendChild(div);
            });
        } else resultsBox.style.display = 'none';
    }

    function selectStudent(student) {
        selectedStudent = student;
        document.getElementById('selected-student').value = student.n;
        document.getElementById('reg-class').value = student.c;
        resultsBox.style.display = 'none';
        searchInput.value = '';
    }

    async function registerStudent() {
        if(!selectedStudent) { alert("Lütfen listeden bir öğrenci seçiniz."); return; }
        const gameId = parseInt(document.getElementById('reg-game').value);
        const exists = systemData.players.some(p => p.name === selectedStudent.n && p.class === selectedStudent.c && p.gameId === gameId);
        if(exists) { alert("Zaten kayıtlısınız!"); return; }
        systemData.players.push({ name: selectedStudent.n, class: selectedStudent.c, gameId });
        alert("Kayıt Başarılı!");
        selectedStudent = null;
        document.getElementById('selected-student').value = "";
        document.getElementById('reg-class').value = "";
        await saveData();
    }
    
    // YÖNETİCİ ŞİFRE GİRİŞİ (MODAL)
    function openAdminModal() {
        // Basit prompt yerine password inputlu prompt
        const pass = prompt("Yönetici Şifresi:");
        // Şifre kontrolü (04051257)
        if(pass === "04051257") { isAdmin = true; updateUI(); }
        else { alert("Hatalı Şifre"); }
    }
    
    // DİĞER ADMİN İŞLEMLERİ
    // ... (Önceki kodların aynısı) ...
    // ...
    
    // --- BURAYA KADAR AYNI ---
    // Sadece admin panel fonksiyonları
     const adminSearchInput = document.getElementById('admin-student-search');
    const adminResultsBox = document.getElementById('admin-search-results');
    let adminSelectedStudent = null;

    adminSearchInput.addEventListener('input', function(e) {
        const val = e.target.value.toUpperCase();
        if(val.length < 2) { adminResultsBox.style.display = 'none'; return; }
        const matches = ALL_STUDENTS.filter(s => s.n.startsWith(val));
        adminResultsBox.innerHTML = '';
        if(matches.length > 0) {
            adminResultsBox.style.display = 'block';
            matches.slice(0, 8).forEach(s => { 
                const div = document.createElement('div');
                div.className = 'search-item';
                div.innerHTML = `<strong>${s.n}</strong><span>${s.c}</span>`;
                div.onclick = () => selectStudentAdmin(s);
                adminResultsBox.appendChild(div);
            });
        } else adminResultsBox.style.display = 'none';
    });

    function selectStudentAdmin(student) {
        adminSelectedStudent = student;
        adminResultsBox.style.display = 'none';
        adminSearchInput.value = '';
        document.getElementById('admin-selected-info').style.display = 'block';
        document.getElementById('admin-sel-name').innerText = student.n;
        document.getElementById('admin-sel-class').innerText = student.c;
    }
    
    async function adminRegisterStudent() {
        if(!adminSelectedStudent) { alert("Öğrenci seçiniz."); return; }
        const gameId = parseInt(document.getElementById('admin-reg-game').value);
        const exists = systemData.players.some(p => p.name === adminSelectedStudent.n && p.class === adminSelectedStudent.c && p.gameId === gameId);
        if(exists) { alert("Zaten kayıtlı!"); return; }
        systemData.players.push({ name: adminSelectedStudent.n, class: adminSelectedStudent.c, gameId });
        alert("Manuel kayıt eklendi.");
        adminSelectedStudent = null;
        document.getElementById('admin-selected-info').style.display = 'none';
        await saveData();
    }

    function renderAdminPanel() {
        document.getElementById('count-abluka').innerText = systemData.players.filter(p => p.gameId === 2).length;
        document.getElementById('count-equilibrio').innerText = systemData.players.filter(p => p.gameId === 4).length;
        let statusText = "Kayıt Açık"; if(systemData.status === 'closed') statusText = "Kayıt Kapalı"; if(systemData.status === 'active') statusText = "Turnuva Başladı";
        document.getElementById('status-text').innerText = statusText;
        const listEl = document.getElementById('admin-player-list'); listEl.innerHTML = '';
        systemData.players.forEach((p, index) => {
            const gameObj = GAMES.find(g => g.id === p.gameId); const gameName = gameObj ? gameObj.name : "-";
            listEl.innerHTML += `<div class="player-item"><div><strong>${p.name}</strong> <span style="color:#aaa">(${p.class})</span><span style="color:var(--primary); font-size:0.8rem; margin-left:10px;">${gameName}</span></div><button class="del-btn" onclick="deletePlayer(${index})">Sil</button></div>`;
        });
    }

    async function deletePlayer(index) { if(confirm("Silinsin mi?")) { systemData.players.splice(index, 1); await saveData(); } }
    async function changeStatus(st) { systemData.status = st; await saveData(); }
    async function resetSystem() { if(confirm("Sıfırlansın mı?")) { systemData.status = 'registration'; systemData.players = [...BASE_PLAYERS]; systemData.brackets = {}; await saveData(); } }

    async function startTournament() {
        if(confirm("Turnuva Başlatılsın mı?")) {
            systemData.brackets = {};
            GAMES.forEach(game => {
                const participants = systemData.players.filter(p => p.gameId === game.id);
                participants.sort(() => Math.random() - 0.5);
                systemData.brackets[game.id] = generateBracket(participants);
            });
            systemData.status = 'active'; await saveData();
        }
    }

    // --- TURNUVA MANTIĞI ---
    function generateBracket(participants) {
        const rounds = []; let matches = []; let power = 1; while(power < participants.length) power *= 2;
        let pIndex = 0;
        for(let i=0; i<power/2; i++) {
            let p1 = participants[pIndex++] || null; let p2 = participants[pIndex++] || null;
            matches.push({ id: Math.random().toString(36).substr(2, 9), p1: p1, p2: p2, s1: 0, s2: 0, winner: (!p2 && p1) ? p1 : null });
        }
        rounds.push(matches);
        let matchCount = matches.length;
        while(matchCount > 1) {
            matchCount /= 2; let nextRound = [];
            for(let i=0; i<matchCount; i++) nextRound.push({ id: Math.random().toString(36).substr(2, 9), p1: null, p2: null, s1:0, s2:0, winner: null });
            rounds.push(nextRound);
        }
        return rounds;
    }

    function renderTournamentTabs() {
        const c = document.getElementById('game-tabs'); c.innerHTML='';
        GAMES.forEach(g => c.innerHTML += `<button class="tab-btn ${g.id===activeTabGameId?'active':''}" onclick="activeTabGameId=${g.id};renderTournamentTabs();renderBracket(${g.id})">${g.name}</button>`);
    }

    function renderBracket(gid) {
        const rounds = systemData.brackets[gid];
        if(!rounds) return;
        const c = document.getElementById('bracket-area'); c.innerHTML='';
        rounds.forEach((round, ri) => {
            let title = (ri === rounds.length-1) ? "🏆 FİNAL" : `${ri+1}. TUR`;
            let html = `<div class="round-block"><div class="round-title">${title}</div><div class="matches-grid">`;
            round.forEach((m, mi) => {
                const isC = m.winner!==null;
                const p1n = m.p1?m.p1.name:'...'; const p2n = m.p2?m.p2.name:'...';
                let ctr1='', ctr2='';
                if(isAdmin && !m.winner && m.p1 && m.p2) {
                    ctr1 = `<div class="score-controls"><button class="btn-s btn-minus" onclick="upS(${gid},${ri},${mi},1,-1)">-</button><button class="btn-s btn-plus" onclick="upS(${gid},${ri},${mi},1,1)">+</button></div>`;
                    ctr2 = `<div class="score-controls"><button class="btn-s btn-minus" onclick="upS(${gid},${ri},${mi},2,-1)">-</button><button class="btn-s btn-plus" onclick="upS(${gid},${ri},${mi},2,1)">+</button></div>`;
                }
                html += `<div class="match-card ${isC?'completed':''}">
                    ${isC?'<div class="status-badge">BİTTİ</div>':''}
                    <div class="player-row ${m.winner?.name===p1n?'winner':''}"><div><div class="p-name">${p1n}</div><div class="p-class">${m.p1?m.p1.class:''}</div></div><div style="display:flex;align-items:center;gap:5px;">${ctr1}<div class="score-val">${m.s1}</div></div></div>
                    <div class="player-row ${m.winner?.name===p2n?'winner':''}"><div><div class="p-name">${p2n}</div><div class="p-class">${m.p2?m.p2.class:''}</div></div><div style="display:flex;align-items:center;gap:5px;">${ctr2}<div class="score-val">${m.s2}</div></div></div>
                </div>`;
            });
            c.innerHTML += html + `</div></div>`;
        });
    }

    async function upS(g,r,m,p,v) {
        const match = systemData.brackets[g][r][m];
        if(p===1) match.s1 = Math.max(0, match.s1+v); else match.s2 = Math.max(0, match.s2+v);
        if(match.s1>=2) { match.winner=match.p1; adv(g,r,m,match.p1); }
        else if(match.s2>=2) { match.winner=match.p2; adv(g,r,m,match.p2); }
        else match.winner=null;
        await saveData();
    }
    function adv(g,r,m,w) {
        const nr = r+1;
        if(nr < systemData.brackets[g].length) {
            const nm = Math.floor(m/2), top = (m%2===0);
            const nMatch = systemData.brackets[g][nr][nm];
            if(top) nMatch.p1=w; else nMatch.p2=w;
        }
    }
    
    // PUBLIC LISTE
    function openRegisteredList() {
        const gameId = parseInt(document.getElementById('reg-game').value);
        const gameName = GAMES.find(g => g.id === gameId).name;
        const listContent = document.getElementById('modal-list-content');
        const modal = document.getElementById('list-modal');
        const registered = systemData.players.filter(p => p.gameId === gameId);
        listContent.innerHTML = `<h4 style="color:#aaa; border-bottom:1px solid #333; padding-bottom:10px; margin-bottom:10px;">${gameName} Kayıtları (${registered.length})</h4>`;
        if(registered.length === 0) listContent.innerHTML += `<div style="text-align:center; padding:20px; color:#666;">Henüz kayıt yok.</div>`;
        else registered.forEach(p => { listContent.innerHTML += `<div class="modal-item"><span>${p.name}</span> <span style="color:var(--primary)">${p.class}</span></div>`; });
        modal.style.display = 'flex';
    }
    function closeRegisteredList() { document.getElementById('list-modal').style.display = 'none'; }
</script>
</body>
</html>
